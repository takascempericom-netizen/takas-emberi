<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profil ‚Ä¢ Takas √áemberi</title>
  <style>
    :root{
      --c1:#7c3aed; /* mor */
      --c2:#06b6d4; /* camg√∂beƒüi */
      --c3:#10b981; /* z√ºmr√ºt */
      --c4:#f59e0b; /* amber */
      --fg:#0f172a; /* metin */
      --glass: rgba(255,255,255,.78);
      --brd: rgba(255,255,255,.5);
    }
    /* 4 renkli dalgalƒ± parlak arka plan */
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; color:var(--fg);
      background: linear-gradient(120deg,var(--c1),var(--c2),var(--c3),var(--c4));
      background-size:300% 300%;
      animation: gradientShift 18s ease infinite;
      min-height:100vh;
    }
    @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .wave:before{
      content:""; position:fixed; inset:-20%; pointer-events:none; z-index:0;
      background: radial-gradient(60% 40% at 20% 30%,rgba(255,255,255,.12),transparent 60%),
                  radial-gradient(40% 30% at 80% 70%,rgba(255,255,255,.10),transparent 60%);
      filter: blur(40px); animation: waveMove 24s ease-in-out infinite;
    }
    @keyframes waveMove{0%,100%{transform:translate3d(0,0,0)}50%{transform:translate3d(2%,-2%,0)}}

    .hdr{position:sticky; top:0; z-index:20; background:rgba(255,255,255,.2); backdrop-filter: blur(10px); border-bottom:1px solid var(--brd);}
    .hdr .in{max-width:1100px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between;}
    .ttl{margin:0; font-size:20px; font-weight:700; color:white; text-shadow:0 1px 2px rgba(0,0,0,.25)}
    .row{display:flex; gap:8px; align-items:center}
    .btn{appearance:none; border:1px solid var(--brd); background:var(--glass); color:#111827; font-weight:600; padding:8px 12px; border-radius:12px; cursor:pointer}
    .btn:hover{background:white}
    .btn.danger{border-color:#fca5a5; color:#991b1b}
    .btn.ok{background:#111827; color:white; border-color:#111827}

    .wrap{max-width:1100px; margin:16px auto 100px; padding:0 16px; position:relative; z-index:1}
    .card{background:var(--glass); border:1px solid var(--brd); border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,.08);}

    /* Profil grid */
    .profile-grid{display:grid; grid-template-columns:260px 1fr; gap:20px; padding:20px}
    @media (max-width: 840px){ .profile-grid{grid-template-columns:1fr} }

    .left{display:flex; flex-direction:column; align-items:center; gap:10px}
    .avatar{width:110px; height:110px; border-radius:999px; object-fit:cover; box-shadow:0 6px 18px rgba(0,0,0,.2); border:3px solid rgba(255,255,255,.9)}
    .name{font-weight:700}
    .stars{display:flex; gap:4px}
    .rating-num{font-size:12px; color:#334155}

    .right{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .right label{font-size:12px; color:#475569}
    .right input{border:1px solid var(--brd); border-radius:12px; padding:10px 12px; background:#ffffffb3}
    .right input[disabled]{color:#334155; background:#f8fafc}
    .row.end{justify-content:flex-end}

    /* Sekme paneli */
    .tabs{display:flex; gap:8px; padding:12px; border-bottom:1px solid var(--brd)}
    .tab{padding:8px 12px; border-radius:12px; cursor:pointer; font-weight:600; background:rgba(255,255,255,.6)}
    .tab.active{background:#111827; color:white}
    .list{padding:12px; display:grid; gap:8px}
    .item{background:white; border:1px solid #e5e7eb; border-radius:14px; padding:12px; display:flex; justify-content:space-between; align-items:center}
    .st{font-size:12px; padding:4px 8px; border-radius:10px}
    .st.live{background:#dcfce7; color:#065f46}
    .st.pending{background:#fff7ed; color:#9a3412}
    .st.expired{background:#fee2e2; color:#991b1b}

    /* Alt sabit bar */
    .fixedbar{position:fixed; left:0; right:0; bottom:0; z-index:30;}
    .fixedbar .in{max-width:1100px; margin:0 auto 0; padding:8px 12px; display:grid; grid-template-columns:repeat(4,1fr); gap:10px;}
    .fixedbar a{display:flex; flex-direction:column; gap:2px; align-items:center; justify-content:center; padding:8px 6px; border-radius:14px; text-decoration:none; color:#111827; font-weight:600; border:1px solid var(--brd); background:var(--glass)}
    .fixedbar a.active{background:#111827; color:white; border-color:#111827}

    /* Renkli panel (footer arka planƒ±na parƒ±ltƒ±) */
    .fixedbar:before{content:""; position:absolute; inset:-20px 0 -20px 0; z-index:-1; background: linear-gradient(90deg,var(--c1),var(--c2),var(--c3),var(--c4)); filter: blur(30px); opacity:.6}
  </style>
</head>
<body class="wave">
  <header class="hdr">
    <div class="in">
      <h1 class="ttl">Profil</h1>
      <div class="row">
        <button class="btn" id="btnNew">+ Yeni ƒ∞lan</button>
        <button class="btn danger" id="btnLogout">√áƒ±kƒ±≈ü</button>
      </div>
    </div>
  </header>

  <div class="wrap">
    <!-- PROFƒ∞L PANELƒ∞ -->
    <section class="card" id="profileCard">
      <div class="profile-grid">
        <div class="left">
          <img class="avatar" id="avatar" alt="avatar">
          <button class="btn" id="btnChangeAvatar">Profil Resmini Deƒüi≈ütir</button>
          <input id="avatarFile" type="file" accept="image/*" style="display:none">
          <div class="name" id="nameUnder">‚Äî</div>
          <div class="stars" id="rating"></div>
          <div class="rating-num" id="ratingNum">0.0 / 5 (0 oy)</div>
        </div>
        <div class="right">
          <label>Ad</label>
          <input id="firstName" placeholder="Ad" disabled>
          <label>Soyad</label>
          <input id="lastName" placeholder="Soyad" disabled>
          <label>E-posta</label>
          <input id="email" placeholder="eposta@example.com" disabled>
          <label>≈ûehir</label>
          <input id="city" placeholder="≈ûehir" disabled>
          <label>Mevcut ≈ûifre</label>
          <input id="oldPassword" type="password" placeholder="Mevcut ≈üifre">
          <label>Yeni ≈ûifre</label>
          <input id="newPassword" type="password" placeholder="Yeni ≈üifre">
          <label>Yeni ≈ûifre (Tekrar)</label>
          <input id="newPassword2" type="password" placeholder="Yeni ≈üifre (tekrar)">
          <div class="row end" style="grid-column: 1 / -1; margin-top:10px">
            <button class="btn ok" id="btnChangePass">Onayla</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SEKME PANELƒ∞ (profilin ALTINDA) -->
    <section class="card" id="tabsCard" style="margin-top:12px">
      <div class="tabs" id="tabs">
        <div class="tab active" data-tab="live">Yayƒ±ndaki ƒ∞lanlar</div>
        <div class="tab" data-tab="pending">Onay Bekleyen</div>
        <div class="tab" data-tab="expired">S√ºresi Dolan</div>
      </div>
      <div id="tab-live" class="list"></div>
      <div id="tab-pending" class="list" style="display:none"></div>
      <div id="tab-expired" class="list" style="display:none"></div>
    </section>
  </div>

  <!-- ALT SABƒ∞T BAR -->
  <nav class="fixedbar">
    <div class="in">
      <a href="/" class="active" id="navHome">üè†<span>Ana Sayfa</span></a>
      <a href="/messages.html" id="navMsgs">üí¨<span>Mesajlar</span></a>
      <a href="/notifications.html" id="navNotifs">üîî<span>Bildirimler</span></a>
      <a href="/profile/profile.html" id="navProfile">üë§<span>Profil</span></a>
    </div>
  </nav>

  <!-- Inline UI JS (null-korumalƒ±) -->
  <script type="module">
    const tabsRoot = document.getElementById('tabsCard');
    if (tabsRoot) {
      const tabs = document.querySelectorAll('.tab');
      const panes = {
        live:    document.getElementById('tab-live'),
        pending: document.getElementById('tab-pending'),
        expired: document.getElementById('tab-expired')
      };

      tabs.forEach(t => t.addEventListener('click', () => {
        tabs.forEach(x => x.classList.remove('active'));
        t.classList.add('active');
        const k = t.dataset.tab;
        Object.entries(panes).forEach(([key, el]) => {
          if (!el) return;
          el.style.display = (key === k) ? 'grid' : 'none';
        });
      }));

      function renderListing(item){
        const container =
          item.status === 'live'    ? panes.live :
          item.status === 'pending' ? panes.pending : panes.expired;

        if (!container) { console.warn('[renderListing] container yok:', item.status); return; }

        const el = document.createElement('div');
        el.className = 'item';
        el.innerHTML =
          `<div><strong>${item.title}</strong>` +
          `<div style="font-size:12px;color:#64748b">${item.desc || item.description || ''}</div></div>` +
          `<span class="st ${item.status}">` +
          (item.status === 'live' ? 'Yayƒ±nda' : item.status === 'pending' ? 'Onay Bekliyor' : 'S√ºresi Doldu') +
          `</span>`;
        container.appendChild(el);
      }

      // Dƒ±≈ü JS kullanabilsin diye global'a ver
      window.renderListing = renderListing;

      // Profil resmi deƒüi≈ütir butonu inputu tetikler
      const btnChangeAvatar = document.getElementById('btnChangeAvatar');
      const avatarFile = document.getElementById('avatarFile');
      btnChangeAvatar?.addEventListener('click',()=> avatarFile?.click());

      // Alt bar aktifliƒüi
      const path = location.pathname;
      document.querySelectorAll('.fixedbar a').forEach(a=>{
        a.classList.toggle('active', a.getAttribute('href')===path || (path.startsWith('/profile') && a.id==='navProfile'));
      });
    }
  </script>

  <!-- ƒ∞≈ü mantƒ±ƒüƒ± (Firebase + sorgular) -->
  <script type="module" src="./profile.js"></script>
</body>
</html>
