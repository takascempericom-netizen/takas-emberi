<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Yönetim Paneli • Takas Çemberi</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a; --panel:#101214; --panel2:#15181b; --line:#22262b;
      --fg:#f5f7fb; --muted:#94a3b8; --pri:#38bdf8; --ok:#22c55e; --bad:#ef4444; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .app{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
    .side{
      background:linear-gradient(180deg,#0c0f12 0%,#0a0c0f 100%);
      border-right:1px solid var(--line);
      padding:18px 14px; display:flex; flex-direction:column; gap:14px;
      position:sticky; top:0; height:100vh;
    }
    .brand{display:flex; gap:10px; align-items:center; padding:6px 8px}
    .logo{width:36px;height:36px;border-radius:10px;background:#0f172a;display:grid;place-items:center;border:1px solid #1f2630}
    .logo b{color:var(--pri)}
    .brand h1{font-size:16px;margin:0}
    .nav{display:flex;flex-direction:column;gap:6px; margin-top:4px}
    .nav button{
      all:unset; display:flex; gap:10px; align-items:center;
      padding:10px 12px; border:1px solid transparent; border-radius:10px;
      color:var(--fg); cursor:pointer; font-weight:700
    }
    .nav button:hover{background:var(--panel2); border-color:#20262c}
    .nav button.active{background:#0f172a;border-color:#1f2630;color:#e5f6ff}
    .sp{height:10px}
    .logout{margin-top:auto}
    .logout button{background:#111827;border:1px solid #1f2630;border-radius:999px;padding:9px 12px;color:#fff;font-weight:800;cursor:pointer}
    .logout button:hover{background:#1f2937}
    .who{font-size:12px;color:var(--muted);line-height:1.3}
    .main{background:radial-gradient(1200px 700px at 50% -200px, #0d1b26 0%, transparent 60%)}
    .top{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid var(--line);background:linear-gradient(180deg,#0f1114,#0c0f12)}
    .top h2{margin:0;font-size:18px}
    .content{padding:18px; display:grid; gap:14px}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:14px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .full{grid-column:1/-1}
    .muted{color:var(--muted);font-size:12px}
    input,textarea,select{
      width:100%;padding:10px 12px;border:1px solid #2a2f35;border-radius:10px;background:#0c0f12;color:#e5e7eb
    }
    textarea{min-height:110px;resize:vertical}
    .btn{all:unset;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:800;border:1px solid #1f2630}
    .btn-pri{background:#0b2a36;color:#e6fbff;border-color:#184559}
    .btn-ok{background:#0f2a16;color:#d8ffe6;border-color:#1e4026}
    .btn-bad{background:#2a0f12;color:#ffe5e8;border-color:#402024}
    .btn-ghost{background:#0b0e12;color:#e5e7eb}
    .list{display:grid;gap:10px}
    .item{display:grid;grid-template-columns:1fr 180px 160px 220px;gap:10px;align-items:center;background:var(--panel2);border:1px solid var(--line);border-radius:12px;padding:12px}
    .tags .tag{display:inline-block;border:1px solid #24303a;border-radius:999px;padding:2px 8px;font-size:12px;margin-right:6px;color:#cfe9ff}
    .ok{color:var(--ok)} .err{color:var(--bad)} .warn{color:var(--warn)}
    .grid5{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
    .ph{height:160px;border-radius:10px;border:1px solid #2a2f35;overflow:hidden}
    .ph img{width:100%;height:100%;object-fit:cover}
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{border-bottom:1px solid #20262c;padding:8px;text-align:left;font-size:14px}
    .search{display:flex;gap:8px}
    .hide{display:none}
  </style>
</head>
<body>
  <div class="app">
    <aside class="side">
      <div class="brand">
        <div class="logo"><b>TC</b></div>
        <div>
          <h1>Takas Çemberi</h1>
          <div class="who" id="who">Giriş bekleniyor…</div>
        </div>
      </div>
      <div class="nav">
        <button data-view="onay" class="active">İlan Onay</button>
        <button data-view="mesaj">Mesajlar</button>
        <button data-view="bildiri">Bildiri</button>
        <button data-view="akan">Akan Yazı</button>
        <button data-view="kull">Kullanıcılar</button>
        <button data-view="sik">Şikayetler</button>
        <button data-view="ayar">Ayarlar</button>
      </div>
      <div class="sp"></div>
      <div class="logout">
        <button id="btnLogout">Çıkış</button>
      </div>
    </aside>
    <main class="main">
      <div class="top"><h2 id="title">İlan Onay</h2><div id="note" class="muted"></div></div>
      <section class="content" id="v-onay">
        <div class="card full">
          <div class="muted">status/state/moderation alanları “pending/*” olan tüm ilanlar listelenir. Onay/Reddet tek tık.</div>
          <div id="onay-list" class="list"></div>
        </div>
      </section>

      <section class="content hide" id="v-mesaj">
        <div class="row">
          <div class="card">
            <h3 style="margin:0 0 8px">Yeni Mesaj (tüm kullanıcılara)</h3>
            <label>Başlık</label><input id="msg-title" placeholder="Duyuru başlığı">
            <label>Mesaj</label><textarea id="msg-body" placeholder="Mesaj içeriği…"></textarea>
            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="msg-send" class="btn btn-pri">Gönder</button>
            </div>
            <div id="msg-info" class="muted" style="margin-top:8px"></div>
          </div>
          <div class="card">
            <h3 style="margin:0 0 8px">Son Mesajlar</h3>
            <div id="msg-list" class="list"></div>
          </div>
        </div>
      </section>

      <section class="content hide" id="v-bildiri">
        <div class="row">
          <div class="card">
            <h3 style="margin:0 0 8px">Yeni Bildiri (zil)</h3>
            <label>Başlık</label><input id="bil-title" placeholder="Kısa başlık">
            <label>İçerik</label><textarea id="bil-body" placeholder="Kısa açıklama…"></textarea>
            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="bil-add" class="btn btn-pri">Ekle</button>
            </div>
            <div id="bil-info" class="muted" style="margin-top:8px"></div>
          </div>
          <div class="card">
            <h3 style="margin:0 0 8px">Bildiri Listesi</h3>
            <div id="bil-list" class="list"></div>
          </div>
        </div>
      </section>

      <section class="content hide" id="v-akan">
        <div class="row">
          <div class="card">
            <h3 style="margin:0 0 8px">Akan Yazı (kayan yazı)</h3>
            <label>Metin</label><textarea id="akan-text" placeholder="Ana sayfada kayacak metin…"></textarea>
            <div class="muted">Birden fazla ilan ekleyebilirsiniz; son eklenenler üstte listelenir.</div>
            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="akan-add" class="btn btn-pri">Ekle</button>
            </div>
            <div id="akan-info" class="muted" style="margin-top:8px"></div>
          </div>
          <div class="card">
            <h3 style="margin:0 0 8px">Mevcut Akan Yazılar</h3>
            <div id="akan-list" class="list"></div>
          </div>
        </div>
      </section>

      <section class="content hide" id="v-kull">
        <div class="card">
          <div class="search">
            <input id="user-q" placeholder="Kullanıcı ara (ad, kullanıcı adı, email)">
            <button id="user-refresh" class="btn btn-ghost">Yenile</button>
          </div>
          <div style="overflow:auto;margin-top:10px">
            <table class="table" id="user-table">
              <thead><tr><th>Ad</th><th>Kullanıcı adı</th><th>E-posta</th><th>UID</th><th>Rol</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="content hide" id="v-sik">
        <div class="card">
          <h3 style="margin:0 0 8px">Şikayetler</h3>
          <div class="muted">Koleksiyon: <code>support/*/messages</code> (collectionGroup). Tür: <code>type="complaint"</code> olanlar.</div>
          <div id="sik-list" class="list" style="margin-top:10px"></div>
          <div id="sik-note" class="muted"></div>
        </div>
      </section>

      <section class="content hide" id="v-ayar">
        <div class="row">
          <div class="card">
            <h3 style="margin:0 0 8px">Şifre Değiştir</h3>
            <label>Mevcut Şifre</label><input id="pw-old" type="password" placeholder="Mevcut şifre">
            <label>Yeni Şifre</label><input id="pw-new" type="password" placeholder="Yeni şifre">
            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="pw-change" class="btn btn-pri">Şifreyi Güncelle</button>
            </div>
            <div id="pw-note" class="muted" style="margin-top:8px"></div>
          </div>
          <div class="card">
            <h3 style="margin:0 0 8px">Hesap</h3>
            <div id="acc-info" class="muted">—</div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script type="module" src="./app.js"></script>
</body>
</html>
