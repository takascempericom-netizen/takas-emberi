<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Admin • Takas Çemberi</title>
  <link rel="icon" href="/favicon.png" type="image/png"/>
  <style>
    :root{--ink:#0f172a;--muted:#64748b;--line:#e5e7eb;--bg:#f8fafc;--panel:#fff;--brand:#111827}
    *{box-sizing:border-box}html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .bar{height:56px;display:flex;align-items:center;gap:10px;padding:0 14px;border-bottom:1px solid var(--line);background:#fff;position:sticky;top:0;z-index:30}
    .bar strong{font-weight:900}
    .wrap{display:grid;grid-template-columns:260px 1fr;min-height:calc(100dvh - 56px)}
    .side{border-right:1px solid var(--line);background:#fff}
    .side .logo{padding:14px;border-bottom:1px solid var(--line);font-weight:800}
    .nav{display:flex;flex-direction:column;padding:8px}
    .nav a{padding:10px 12px;border-radius:10px;color:inherit;text-decoration:none;display:flex;justify-content:space-between;align-items:center}
    .nav a.active{background:#111827;color:#fff}
    .cnt{padding:14px}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .grid{display:grid;gap:10px}
    .table{width:100%;border-collapse:collapse}
    .table th,.table td{border-bottom:1px solid var(--line);text-align:left;padding:8px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 10px;cursor:pointer}
    .btn.primary{background:#111827;color:#fff;border-color:#111827}
    .btn.danger{border-color:#fecaca;color:#991b1b;background:#fee2e2}
    .muted{color:var(--muted);font-size:12px}
    .cols{display:grid;grid-template-columns:280px 1fr;gap:12px}
    @media (max-width:960px){.wrap{grid-template-columns:1fr}.cols{grid-template-columns:1fr}}
    .list{display:flex;flex-direction:column;border:1px solid var(--line);border-radius:10px;overflow:auto;max-height:70vh;background:#fff}
    .item{padding:10px 12px;border-bottom:1px solid var(--line);display:grid;grid-template-columns:1fr auto;gap:8px;cursor:pointer}
    .item.active{background:#1118270d}
    .msgs{display:flex;flex-direction:column;gap:8px;border:1px solid var(--line);border-radius:10px;padding:10px;min-height:320px;background:#fff;max-height:70vh;overflow:auto}
    .bubble{max-width:72%;padding:8px 10px;border-radius:12px;border:1px solid var(--line);background:#f8fafc}
    .bubble.me{margin-left:auto;background:#111827;color:#fff;border-color:#111827}
    .send{display:grid;grid-template-columns:1fr auto;gap:8px;margin-top:8px}
    input,textarea,select{border:1px solid var(--line);border-radius:10px;padding:8px 10px;font:inherit;background:#fff}
  </style>
</head>
<body>
  <header class="bar">
    <strong>Admin Panel</strong>
    <span class="muted" id="who"></span>
    <div class="row" style="margin-left:auto">
      <button class="btn" id="btnGotoSite">Site</button>
      <button class="btn" id="btnLogout">Çıkış</button>
    </div>
  </header>

  <div class="wrap">
    <aside class="side">
      <div class="logo">Takas Çemberi</div>
      <nav class="nav" id="nav">
        <a href="#/support"      data-route="support">Canlı Destek <b id="badgeSupport" class="muted">0</b></a>
        <a href="#/messages"     data-route="messages">Mesajlar <b id="badgeMsgs" class="muted">0</b></a>
        <a href="#/pending"      data-route="pending">Onay Bekleyen <b id="badgePending" class="muted">0</b></a>
        <a href="#/complaints"   data-route="complaints">Şikayetler <b id="badgeComplaints" class="muted">0</b></a>
        <a href="#/broadcast"    data-route="broadcast">Bildiri</a>
        <a href="#/settings"     data-route="settings">Ayarlar</a>
        <a href="#/debug"        data-route="debug">Hata Günlükleri</a>
      </nav>
    </aside>

    <main class="cnt">
      <div id="view" class="panel">
        <!-- router içerik -->
      </div>
    </main>
  </div>

  <script type="module" src="/assets/js/firebase-init.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>
