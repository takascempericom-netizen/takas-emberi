<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Admin • Takas Çemberi</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <div class="top">
    <h1>Admin Paneli</h1>
    <script src="js/notify-bell.js"></script>
  </div>

  <div class="wrap">
    <div class="cards">
      <div class="card"><h3>Toplam İlan</h3><div class="val" id="m_total">—</div></div>
      <div class="card"><h3>Onay Bekleyen</h3><div class="val" id="m_pending">—</div></div>
      <div class="card"><h3>Süresi Dolan</h3><div class="val" id="m_expired">—</div></div>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="pending">Onay Bekleyenler</button>
      <button class="tab" data-tab="active">Yayındakiler</button>
      <button class="tab" data-tab="expired">Süresi Dolanlar</button>
    </div>

    <div id="view-pending">
      <table class="tbl" id="tbl_pending">
        <thead><tr><th>Başlık</th><th>Sahip</th><th>Detay</th><th>Aksiyon</th></tr></thead>
        <tbody><tr><td colspan="4" class="muted">Yükleniyor…</td></tr></tbody>
      </table>
    </div>

    <div id="view-active" style="display:none">
      <table class="tbl" id="tbl_active">
        <thead><tr><th>Başlık</th><th>Sahip</th><th>Fiyat</th><th>İşlem</th></tr></thead>
        <tbody><tr><td colspan="4" class="muted">Yükleniyor…</td></tr></tbody>
      </table>
    </div>

    <div id="view-expired" style="display:none">
      <table class="tbl" id="tbl_expired">
        <thead><tr><th>Başlık</th><th>Sahip</th><th>Bitiş</th><th>İşlem</th></tr></thead>
        <tbody><tr><td colspan="4" class="muted">Yükleniyor…</td></tr></tbody>
      </table>
    </div>

    <div class="footer-note">Sıfırdan kuruldu: çakışma yapan script yok.</div>
  </div>

  <script>
    (function(){
      var tabs=document.querySelectorAll('.tab');
      function show(id){
        document.getElementById('view-pending').style.display=(id==='pending'?'block':'none');
        document.getElementById('view-active').style.display =(id==='active'?'block':'none');
        document.getElementById('view-expired').style.display=(id==='expired'?'block':'none');
        tabs.forEach(function(t){ t.classList.toggle('active', t.dataset.tab===id); });
      }
      tabs.forEach(function(t){ t.addEventListener('click', function(){ show(t.dataset.tab); }); });
    })();
  </script>

  <script src="js/admin-safe.js"></script>
  <script src="js/listings-rest.js"></script>
</body>
</html>
