<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>İlan Ver — Takas</title>

  <!-- CSS: daha önce oluşturduğumuz css/listing-new.css'i kullanır -->
  <link rel="stylesheet" href="/css/listing-new.css" />
  <style>
    /* küçük ek stiller, gerekirse burada override edilebilir */
    body { background:#f4f6f8; margin:0; padding:20px; }
    header { max-width:920px; margin:0 auto 12px; font-family:system-ui, -apple-system, "Segoe UI", Roboto; }
  </style>
</head>
<body>
  <header>
    <h1>İlan Ver</h1>
    <p class="muted">Kullanıcı panelinden yeni ilan oluşturun. Fotoğraf eklemeyi unutmayın.</p>
  </header>

  <main class="listing-form" role="main">
    <div id="userBox" class="muted">Giriş durumu yükleniyor…</div>

    <div id="login" class="">
      <p class="muted">Giriş yapmadınız. Google ile giriş yapabilirsiniz.</p>
      <button id="btnGoogle" class="btn">Google ile Giriş</button>
    </div>

    <form id="form" class="hide" novalidate>
      <div id="note" class="note muted">Formu doldurun ve Gönder'e basın.</div>

      <div class="form-row column">
        <div class="field">
          <label for="title">Başlık</label>
          <input id="title" name="title" type="text" required placeholder="İlan başlığı" />
        </div>
        <div class="field">
          <label for="cat">Kategori</label>
          <select id="cat" name="cat">
            <option value="">Kategori seç</option>
            <option>Elektronik</option>
            <option>Mobilya</option>
            <option>Giyim</option>
            <option>Kitap</option>
            <option>Diğer</option>
          </select>
        </div>
      </div>

      <div class="form-row column">
        <div class="field">
          <label for="desc">Açıklama</label>
          <textarea id="desc" name="desc" placeholder="İlan açıklaması"></textarea>
        </div>
      </div>

      <div class="form-row">
        <div class="field">
          <label for="city">Şehir</label>
          <input id="city" name="city" type="text" placeholder="İstanbul" />
        </div>
        <div class="field">
          <label for="price">Fiyat (opsiyonel)</label>
          <input id="price" name="price" type="number" placeholder="örn. 100" />
        </div>
      </div>

      <div class="form-row column">
        <label for="photos">Fotoğraflar (1-5 adet)</label>
        <input id="photos" name="photos" type="file" accept="image/*" multiple />
        <div id="preview" class="preview" aria-hidden="false">
          <!-- 5 slot -->
          <div class="slot"><span>Foto 1</span><div class="bar"></div></div>
          <div class="slot"><span>Foto 2</span><div class="bar"></div></div>
          <div class="slot"><span>Foto 3</span><div class="bar"></div></div>
          <div class="slot"><span>Foto 4</span><div class="bar"></div></div>
          <div class="slot"><span>Foto 5</span><div class="bar"></div></div>
        </div>
      </div>

      <div style="display:flex;gap:10px;align-items:center;margin-top:12px;">
        <button id="btnCancel" type="button" class="btn btn-ghost">Vazgeç</button>
        <button type="submit" class="btn btn-ok">Gönder</button>
      </div>

      <div style="margin-top:14px;" class="muted">
        <small>İlan gönderildikten sonra admin onayına düşer. Onaylandıktan sonra yayına alınacaktır.</small>
      </div>
    </form>
  </main>

  <!-- Listing JS (module) -->
  <script type="module" src="/listing-new.js"></script>
</body>
</html>
